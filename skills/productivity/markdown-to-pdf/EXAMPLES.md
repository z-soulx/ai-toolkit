# Markdown to PDF Skill ä½¿ç”¨ç¤ºä¾‹ (v2.0)

## v2.0 æ–°å¢ç¤ºä¾‹

### ç¤ºä¾‹ 1: å®Œæ•´å·¥ä½œæµï¼ˆæ¨èï¼‰

**ç”¨æˆ·æé—®**ï¼š
```
å¸®æˆ‘æŠŠ netty.md è½¬æˆ PDFï¼Œè‡ªåŠ¨å¤„ç†å›¾ç‰‡
```

**Claude æ‰§è¡Œ**ï¼š
```bash
python .claude/skills/markdown-to-pdf/scripts/workflow.py node/ç½‘ç»œä¸é€šä¿¡/netty.md
```

**è¾“å‡º**ï¼š
```
============================================================
Markdown to PDF å®Œæ•´å·¥ä½œæµ v2.0
============================================================
è¾“å…¥æ–‡ä»¶: node/ç½‘ç»œä¸é€šä¿¡/netty.md

============================================================
æ­¥éª¤ 1/4: åˆ†æå›¾ç‰‡æ ¼å¼
============================================================
æ­£åœ¨æ‰«æ image ç›®å½•...
æ€»æ–‡ä»¶æ•°ï¼š150
éœ€è¦è½¬æ¢çš„æ–‡ä»¶ï¼š
  - æ— æ‰©å±•åçš„ WebPï¼š25 ä¸ª
  - æœ‰é”™è¯¯æ‰©å±•åçš„ WebPï¼š10 ä¸ª

============================================================
æ­¥éª¤ 2/4: è½¬æ¢ WebP å›¾ç‰‡
============================================================
å¼€å§‹æ‰¹é‡è½¬æ¢å›¾ç‰‡
  âœ“ 640-20250716165831849 â†’ 640-20250716165831849.png
  âœ“ 640-20250716170159558 â†’ 640-20250716170159558.png
  ...
è½¬æ¢å®Œæˆï¼š35 ä¸ªæ–‡ä»¶

============================================================
æ­¥éª¤ 3/4: æ›´æ–° Markdown å¼•ç”¨
============================================================
æ›´æ–° Markdown æ–‡ä»¶ï¼šnode/ç½‘ç»œä¸é€šä¿¡/netty.md
  âœ“ 640-20250716165831849 â†’ 640-20250716165831849.png
  ...
å·²æ›´æ–°ï¼š25 ä¸ªå¼•ç”¨

============================================================
æ­¥éª¤ 4/4: ç”Ÿæˆ PDF
============================================================
ğŸ“– è¯»å–æ–‡ä»¶: node/ç½‘ç»œä¸é€šä¿¡/netty.md
ğŸ“‘ æå–å…ƒæ•°æ®...
ğŸ“‚ æå–ç›®å½•ç»“æ„...
   âœ“ æ‰¾åˆ° 8 ä¸ªä¸»ç« èŠ‚
   âœ“ æ‰¾åˆ° 25 ä¸ªå­ç« èŠ‚
ğŸ–¼ï¸  å¤„ç†å›¾ç‰‡...
  âœ“ è½¬æ¢è·¯å¾„: 640-20250716165831849.png
  ...
ğŸ“ ç”Ÿæˆ PDF...

âœ… PDF ç”ŸæˆæˆåŠŸ: node/ç½‘ç»œä¸é€šä¿¡/netty.pdf
ğŸ“Š æ–‡ä»¶å¤§å°: 5.2 MB

============================================================
âœ… å·¥ä½œæµå®Œæˆ
============================================================
PDF æ–‡ä»¶: node/ç½‘ç»œä¸é€šä¿¡/netty.pdf
HTML æ–‡ä»¶: node/ç½‘ç»œä¸é€šä¿¡/netty.html

æŠ¥å‘Šæ–‡ä»¶:
  - conversion_plan.json
  - filename_mapping.json
  - markdown_update_report.json
```

---

### ç¤ºä¾‹ 2: ä»…å›¾ç‰‡å¤„ç†

**ç”¨æˆ·æé—®**ï¼š
```
å¸®æˆ‘åˆ†æå’Œè½¬æ¢ image ç›®å½•ä¸­çš„å›¾ç‰‡
```

**Claude æ‰§è¡Œ**ï¼š
```bash
# æ­¥éª¤ 1: åˆ†æ
python .claude/skills/markdown-to-pdf/scripts/analyze_images.py

# æ­¥éª¤ 2: è½¬æ¢
python .claude/skills/markdown-to-pdf/scripts/batch_convert_images.py

# æ­¥éª¤ 3: æ›´æ–°å¼•ç”¨
python .claude/skills/markdown-to-pdf/scripts/update_markdown_refs.py
```

**è¾“å‡º**ï¼š
```
# åˆ†æç»“æœ
å›¾ç‰‡æ ¼å¼åˆ†ææŠ¥å‘Š
============================================================
æ€»æ–‡ä»¶æ•°ï¼š150
éœ€è¦è½¬æ¢çš„æ–‡ä»¶ï¼š
  - æ— æ‰©å±•åçš„ WebPï¼š25 ä¸ª
  - æœ‰é”™è¯¯æ‰©å±•åçš„ WebPï¼š10 ä¸ª
æ ¼å¼æ­£ç¡®çš„æ–‡ä»¶ï¼š115 ä¸ª

è¯¦ç»†æŠ¥å‘Šå·²ä¿å­˜åˆ°ï¼šconversion_plan.json

# è½¬æ¢ç»“æœ
è½¬æ¢å®Œæˆ
============================================================
æ€»è®¡ï¼š35 ä¸ªæ–‡ä»¶
æˆåŠŸï¼š35 ä¸ª
è·³è¿‡ï¼š0 ä¸ª
å¤±è´¥ï¼š0 ä¸ª

æ–‡ä»¶åæ˜ å°„è¡¨å·²ä¿å­˜åˆ°ï¼šfilename_mapping.json

# æ›´æ–°ç»“æœ
æ›´æ–°å®Œæˆ
============================================================
æ€»å¼•ç”¨æ•°ï¼š50
å·²æ›´æ–°ï¼š25
è·³è¿‡ï¼š25

âœ“ Markdown æ–‡ä»¶å·²æ›´æ–°
```

---

### ç¤ºä¾‹ 3: è·³è¿‡å›¾ç‰‡å¤„ç†

**ç”¨æˆ·æé—®**ï¼š
```
å›¾ç‰‡å·²ç»å¤„ç†å¥½äº†ï¼Œç›´æ¥è½¬æ¢ document.md
```

**Claude æ‰§è¡Œ**ï¼š
```bash
python .claude/skills/markdown-to-pdf/scripts/workflow.py document.md --skip-images
```

æˆ–è€…ï¼š
```bash
python .claude/skills/markdown-to-pdf/scripts/convert.py document.md
```

---

## åŸºç¡€ç¤ºä¾‹

### ç¤ºä¾‹ 4: åŸºç¡€è½¬æ¢

**ç”¨æˆ·æé—®**ï¼š
```
å¸®æˆ‘æŠŠ tech-guide.md è½¬æˆ PDF
```

**Claude æ‰§è¡Œ**ï¼š
```bash
python .claude/skills/markdown-to-pdf/scripts/convert.py tech-guide.md
```

**è¾“å‡º**ï¼š
```
ğŸ“– è¯»å–æ–‡ä»¶: tech-guide.md
ğŸ“‘ æå–å…ƒæ•°æ®...
ğŸ“‚ æå–ç›®å½•ç»“æ„...
   âœ“ æ‰¾åˆ° 5 ä¸ªä¸»ç« èŠ‚
   âœ“ æ‰¾åˆ° 12 ä¸ªå­ç« èŠ‚
ğŸ–¼ï¸  å¤„ç†å›¾ç‰‡...
ğŸ¨ å¤„ç† Markdown å†…å®¹...
ğŸ“„ ç”Ÿæˆ HTML...
ğŸ’¾ å·²ä¿å­˜ HTML: tech-guide.html
ğŸ“ ç”Ÿæˆ PDF...

âœ… PDF ç”ŸæˆæˆåŠŸ: tech-guide.pdf
ğŸ“Š æ–‡ä»¶å¤§å°: 0.8 MB
```

---

### ç¤ºä¾‹ 5: è‡ªå®šä¹‰è¾“å‡º

**ç”¨æˆ·æé—®**ï¼š
```
æŠŠ README.md è½¬æˆ PDFï¼Œè¾“å‡ºæ–‡ä»¶åå«"äº§å“è¯´æ˜ä¹¦.pdf"
```

**Claude æ‰§è¡Œ**ï¼š
```bash
python .claude/skills/markdown-to-pdf/scripts/convert.py README.md -o "äº§å“è¯´æ˜ä¹¦.pdf"
```

---

### ç¤ºä¾‹ 6: å®Œæ•´è‡ªå®šä¹‰

**ç”¨æˆ·æé—®**ï¼š
```
è½¬æ¢ whitepaper.mdï¼Œæ ‡é¢˜æ”¹æˆ"æŠ€æœ¯ç™½çš®ä¹¦2025"ï¼Œä½œè€…å†™"æŠ€æœ¯å›¢é˜Ÿ"
```

**Claude æ‰§è¡Œ**ï¼š
```bash
python .claude/skills/markdown-to-pdf/scripts/convert.py whitepaper.md \
  --title "æŠ€æœ¯ç™½çš®ä¹¦2025" \
  --author "æŠ€æœ¯å›¢é˜Ÿ" \
  -o "æŠ€æœ¯ç™½çš®ä¹¦2025.pdf"
```

æˆ–ä½¿ç”¨å·¥ä½œæµï¼š
```bash
python .claude/skills/markdown-to-pdf/scripts/workflow.py whitepaper.md \
  --title "æŠ€æœ¯ç™½çš®ä¹¦2025" \
  --author "æŠ€æœ¯å›¢é˜Ÿ" \
  -o "æŠ€æœ¯ç™½çš®ä¹¦2025.pdf"
```

---

### ç¤ºä¾‹ 7: æ‰¹é‡è½¬æ¢

**ç”¨æˆ·æé—®**ï¼š
```
æŠŠå½“å‰ç›®å½•ä¸‹æ‰€æœ‰ .md æ–‡ä»¶éƒ½è½¬æˆ PDF
```

**Claude æ‰§è¡Œ**ï¼š
```bash
# æ–¹å¼ 1: ä½¿ç”¨ for å¾ªç¯
for file in *.md; do
  python .claude/skills/markdown-to-pdf/scripts/workflow.py "$file"
done

# æ–¹å¼ 2: ä½¿ç”¨ find
find . -name "*.md" -exec python .claude/skills/markdown-to-pdf/scripts/workflow.py {} \;
```

---

### ç¤ºä¾‹ 8: è½¬æ¢åé¢„è§ˆ

**ç”¨æˆ·æé—®**ï¼š
```
è½¬æ¢ guide.md å¹¶å‘Šè¯‰æˆ‘æ–‡ä»¶åœ¨å“ª
```

**Claude æ‰§è¡Œ**ï¼š
```bash
python .claude/skills/markdown-to-pdf/scripts/convert.py guide.md
```

**Claude å›å¤**ï¼š
```
âœ… å·²æˆåŠŸç”Ÿæˆ PDF: guide.pdf
ğŸ“ æ–‡ä»¶ä½ç½®: /Users/xxx/Documents/guide.pdf
ğŸ“Š æ–‡ä»¶å¤§å°: 1.2 MB

ä½ å¯ä»¥ç›´æ¥æ‰“å¼€æŸ¥çœ‹ï¼Œæˆ–è€…ç”¨ä»¥ä¸‹å‘½ä»¤é¢„è§ˆï¼š
open guide.pdf
```

---

## Markdown æ–‡æ¡£æ¨¡æ¿

å¦‚æœä½ çš„æ–‡æ¡£è¿˜æ²¡æœ‰ç»“æ„ï¼Œå¯ä»¥å‚è€ƒè¿™ä¸ªæ¨¡æ¿ï¼š

```markdown
# æŠ€æœ¯æ–‡æ¡£æ ‡é¢˜

**åˆ›å»ºè€…**: æŠ€æœ¯å›¢é˜Ÿ
**æœ€åæ›´æ–°**: 2025-01-30

## 1. ç®€ä»‹
### 1.1 èƒŒæ™¯
è¿™é‡Œå†™èƒŒæ™¯ä»‹ç»...

### 1.2 ç›®æ ‡
è¿™é‡Œå†™æ–‡æ¡£ç›®æ ‡...

## 2. æ ¸å¿ƒæ¦‚å¿µ
### 2.1 æ¦‚å¿µA
è§£é‡Šæ¦‚å¿µ...

![æ¶æ„å›¾](../../image/architecture.png)

### 2.2 æ¦‚å¿µB
è§£é‡Šæ¦‚å¿µ...

## 3. ä½¿ç”¨æ–¹æ³•
### 3.1 å®‰è£…
å®‰è£…æ­¥éª¤...

\`\`\`bash
npm install xxx
\`\`\`

### 3.2 é…ç½®
é…ç½®è¯´æ˜...

| å‚æ•° | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| foo  | é…ç½®é¡¹ | true |
| bar  | é…ç½®é¡¹ | false |

## 4. æœ€ä½³å®è·µ
### 4.1 å®è·µA
å®è·µè¯´æ˜...

> **æç¤º**: è¿™æ˜¯ä¸€ä¸ªé‡è¦çš„æç¤ºä¿¡æ¯

### 4.2 å®è·µB
å®è·µè¯´æ˜...

## 5. å¸¸è§é—®é¢˜
### 5.1 é—®é¢˜1
è§£ç­”...

### 5.2 é—®é¢˜2
è§£ç­”...
```

---

## é«˜çº§æŠ€å·§

### æŠ€å·§ 1: åœ¨è„šæœ¬ä¸­è°ƒç”¨

```python
from pathlib import Path
import subprocess

# æ‰¹é‡è½¬æ¢ï¼ˆä½¿ç”¨å®Œæ•´å·¥ä½œæµï¼‰
md_files = Path('.').glob('*.md')
for md_file in md_files:
    subprocess.run([
        'python',
        '.claude/skills/markdown-to-pdf/scripts/workflow.py',
        str(md_file)
    ])
```

### æŠ€å·§ 2: æ·»åŠ åˆ°å¿«æ·å‘½ä»¤

åœ¨ `.bash_profile` æˆ– `.zshrc` ä¸­æ·»åŠ ï¼š

```bash
# åŸºç¡€è½¬æ¢
alias md2pdf='python ~/.claude/skills/markdown-to-pdf/scripts/convert.py'

# å®Œæ•´å·¥ä½œæµ
alias md2pdf-full='python ~/.claude/skills/markdown-to-pdf/scripts/workflow.py'
```

ç„¶åå°±å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼š
```bash
md2pdf document.md
md2pdf-full document.md
md2pdf report.md -o "2025å¹´åº¦æŠ¥å‘Š.pdf"
```

### æŠ€å·§ 3: ä¸ Git Hooks ç»“åˆ

åœ¨ `.git/hooks/pre-commit` ä¸­ï¼š

```bash
#!/bin/bash
# è‡ªåŠ¨ç”Ÿæˆ PDF ç‰ˆæœ¬
if [ -f README.md ]; then
  python .claude/skills/markdown-to-pdf/scripts/workflow.py README.md
  git add README.pdf
fi
```

### æŠ€å·§ 4: å¹¶è¡Œæ‰¹é‡è½¬æ¢

ä½¿ç”¨ GNU parallel åŠ é€Ÿæ‰¹é‡è½¬æ¢ï¼š

```bash
# å®‰è£… parallel
brew install parallel  # macOS
sudo apt-get install parallel  # Linux

# å¹¶è¡Œè½¬æ¢
ls *.md | parallel python .claude/skills/markdown-to-pdf/scripts/workflow.py
```

### æŠ€å·§ 5: è‡ªåŠ¨åŒ–è„šæœ¬

åˆ›å»ºä¸€ä¸ªè‡ªåŠ¨åŒ–è„šæœ¬ `auto-convert.sh`ï¼š

```bash
#!/bin/bash
# è‡ªåŠ¨è½¬æ¢è„šæœ¬

SCRIPT_DIR="$HOME/.claude/skills/markdown-to-pdf/scripts"

# æ£€æŸ¥å‚æ•°
if [ $# -eq 0 ]; then
    echo "ç”¨æ³•: $0 <markdown-file> [options]"
    exit 1
fi

# æ‰§è¡Œå®Œæ•´å·¥ä½œæµ
python "$SCRIPT_DIR/workflow.py" "$@"

# æ‰“å¼€ç”Ÿæˆçš„ PDF
PDF_FILE="${1%.md}.pdf"
if [ -f "$PDF_FILE" ]; then
    echo "æ‰“å¼€ PDF: $PDF_FILE"
    open "$PDF_FILE"  # macOS
    # xdg-open "$PDF_FILE"  # Linux
fi
```

ä½¿ç”¨ï¼š
```bash
chmod +x auto-convert.sh
./auto-convert.sh document.md
```

---

## çœŸå®ä½¿ç”¨æ¡ˆä¾‹

### æ¡ˆä¾‹ 1: Netty æŠ€æœ¯æ–‡æ¡£

- **è¾“å…¥**: 2ä¸‡å­— Markdown æ–‡æ¡£ï¼ŒåŒ…å« 50+ å›¾ç‰‡
- **é—®é¢˜**: å›¾ç‰‡æ— æ‰©å±•åï¼ŒWebP æ ¼å¼
- **è§£å†³**: ä½¿ç”¨å®Œæ•´å·¥ä½œæµ
- **è¾“å‡º**: 100+ é¡µä¸“ä¸š PDFï¼Œ5.2 MB
- **ç‰¹ç‚¹**: 8ä¸ªä¸»ç« èŠ‚ï¼Œ25ä¸ªå­ç« èŠ‚ï¼ŒåŒåˆ—ç›®å½•

**å‘½ä»¤**:
```bash
python scripts/workflow.py node/ç½‘ç»œä¸é€šä¿¡/netty.md
```

### æ¡ˆä¾‹ 2: API æŠ€æœ¯æ–‡æ¡£

- **è¾“å…¥**: API æ–‡æ¡£ Markdown
- **è¾“å‡º**: å¸¦ç›®å½•çš„æŠ€æœ¯æ‰‹å†Œ
- **ç‰¹ç‚¹**: ä»£ç é«˜äº®ã€è¡¨æ ¼æ¸…æ™°ã€æ— å›¾ç‰‡

**å‘½ä»¤**:
```bash
python scripts/convert.py api-docs.md --title "API æ–‡æ¡£" --author "å¼€å‘å›¢é˜Ÿ"
```

### æ¡ˆä¾‹ 3: äº§å“è¯´æ˜ä¹¦

- **è¾“å…¥**: äº§å“ä»‹ç» Markdownï¼ŒåŒ…å«äº§å“æˆªå›¾
- **è¾“å‡º**: ä¸“ä¸šè¯´æ˜ä¹¦ PDF
- **ç‰¹ç‚¹**: è‹¹æœè®¾è®¡é£æ ¼ã€æ˜“è¯»æ€§å¼º

**å‘½ä»¤**:
```bash
python scripts/workflow.py product-guide.md -o "äº§å“è¯´æ˜ä¹¦.pdf"
```

### æ¡ˆä¾‹ 4: æ‰¹é‡è½¬æ¢æŠ€æœ¯ç¬”è®°

- **è¾“å…¥**: å¤šä¸ªæŠ€æœ¯ç¬”è®° Markdown æ–‡ä»¶
- **è¾“å‡º**: å¯¹åº”çš„ PDF æ–‡ä»¶
- **ç‰¹ç‚¹**: æ‰¹é‡å¤„ç†ï¼Œè‡ªåŠ¨åŒ–

**å‘½ä»¤**:
```bash
for file in notes/*.md; do
  python scripts/workflow.py "$file"
done
```

---

## æ•…éšœæ’æŸ¥ç¤ºä¾‹

### ç¤ºä¾‹: å›¾ç‰‡ä¸æ˜¾ç¤º

**é—®é¢˜æè¿°**:
```
ç”¨æˆ·: ç”Ÿæˆçš„ PDF ä¸­å›¾ç‰‡éƒ½ä¸æ˜¾ç¤º
```

**æ’æŸ¥æ­¥éª¤**:

```bash
# 1. æ£€æŸ¥å›¾ç‰‡ç›®å½•
ls -la image/

# 2. åˆ†æå›¾ç‰‡æ ¼å¼
python scripts/analyze_images.py

# 3. æŸ¥çœ‹åˆ†ææŠ¥å‘Š
cat conversion_plan.json

# 4. ä½¿ç”¨å®Œæ•´å·¥ä½œæµé‡æ–°ç”Ÿæˆ
python scripts/workflow.py document.md
```

**è§£å†³æ–¹æ¡ˆ**:
```
é—®é¢˜åŸå› : å›¾ç‰‡æ˜¯æ— æ‰©å±•åçš„ WebP æ ¼å¼
è§£å†³æ–¹æ³•: ä½¿ç”¨å®Œæ•´å·¥ä½œæµè‡ªåŠ¨å¤„ç†
ç»“æœ: PDF ä¸­å›¾ç‰‡æ­£å¸¸æ˜¾ç¤º
```

---

## å¯¹æ¯”ç¤ºä¾‹

### v1.0 vs v2.0

#### åœºæ™¯: è½¬æ¢åŒ…å« WebP å›¾ç‰‡çš„æ–‡æ¡£

**v1.0 æ–¹å¼**:
```bash
# 1. æ‰‹åŠ¨è½¬æ¢å›¾ç‰‡
for file in image/*; do
  convert "$file" "${file}.png"
done

# 2. æ‰‹åŠ¨æ›´æ–° Markdown
# ï¼ˆéœ€è¦æ‰‹åŠ¨ç¼–è¾‘æ–‡ä»¶ï¼‰

# 3. è½¬æ¢ PDF
python scripts/convert.py document.md
# ç»“æœ: å¯èƒ½å¤±è´¥æˆ–å›¾ç‰‡ç¼ºå¤±
```

**v2.0 æ–¹å¼**:
```bash
# ä¸€é”®å®Œæˆ
python scripts/workflow.py document.md
# ç»“æœ: è‡ªåŠ¨å¤„ç†æ‰€æœ‰é—®é¢˜
```

---

## æ€»ç»“

### æ¨èä½¿ç”¨æ–¹å¼

| åœºæ™¯ | æ¨èå‘½ä»¤ |
|------|---------|
| é¦–æ¬¡è½¬æ¢ | `workflow.py` |
| åŒ…å«å›¾ç‰‡ | `workflow.py` |
| æ— å›¾ç‰‡ | `convert.py` |
| å›¾ç‰‡å·²å¤„ç† | `convert.py` æˆ– `workflow.py --skip-images` |
| æ‰¹é‡è½¬æ¢ | `workflow.py` + å¾ªç¯ |
| è°ƒè¯•é—®é¢˜ | åˆ†æ­¥æ‰§è¡Œ |

### æœ€ä½³å®è·µ

1. **é¦–æ¬¡ä½¿ç”¨**: ä½¿ç”¨ `workflow.py` å®Œæ•´å·¥ä½œæµ
2. **æ—¥å¸¸ä½¿ç”¨**: æ ¹æ®éœ€è¦é€‰æ‹©åˆé€‚çš„å·¥å…·
3. **æ‰¹é‡å¤„ç†**: ç¼–å†™è„šæœ¬ï¼Œå¾ªç¯è°ƒç”¨
4. **è‡ªåŠ¨åŒ–**: ç»“åˆ Git Hooks æˆ– CI/CD

---

**æ–‡æ¡£ç‰ˆæœ¬**: v2.0
**æ›´æ–°æ—¥æœŸ**: 2025-01-30
**ä½œè€…**: Claude Code
